<odoo>
    <data>
        <template id="report_invoice_document_signatures" inherit_id="account.report_invoice_document">
        <xpath expr="//t/div[@class='page']/h2" position="replace">
            <div>
            <style>
                *{
                    direction: rtl;
                }
            </style>
            <h3 align='center'>سكك حديد مصر - عموم هندسة السكة</h3>
            <div class="row">
            <div class="col-4">
                <p>بيان مرفق بفاتورة رقم     \     </p>
                <p t-field='o.contract'></p>
            </div>
            <p class="col-4"></p>
            <div class="col-4">
            <strong style='display:block'>مبلغ الاعتماد .....................</strong>
            <strong style='display:block'>رقم و تاريخ الاعتماد ..................</strong>
            <strong style='display:block'>قيمة العقد .......................</strong>
            </div>

            </div>
            <p t-field='o.narration' align='center'></p>
            </div>
        </xpath>


        <xpath expr="//t/div[@class='page']/div[@id='informations']" position="replace">
            <div id="informations" class="row mt32 mb32" style='display:none'>
                        <div class="col-auto mw-100 mb-2" t-if="o.invoice_date" name="invoice_date">
                            <strong>Invoice Date:</strong>
                            <p class="m-0" t-field="o.invoice_date"/>
                        </div>
                        <div class="col-auto mw-100 mb-2" t-if="o.invoice_date_due and o.type == 'out_invoice' and o.state == 'posted'" name="due_date">
                            <strong>Due Date:</strong>
                            <p class="m-0" t-field="o.invoice_date_due"/>
                        </div>
                        <div class="col-auto mw-100 mb-2" t-if="o.invoice_origin" name="origin">
                            <strong>Source:</strong>
                            <p class="m-0" t-field="o.invoice_origin"/>
                        </div>
                        <div class="col-auto mw-100 mb-2" t-if="o.partner_id.ref" name="customer_code">
                            <strong>Customer Code:</strong>
                            <p class="m-0" t-field="o.partner_id.ref"/>
                        </div>
                        <div class="col-auto mw-100 mb-2" t-if="o.ref" name="reference">
                            <strong>Reference:</strong>
                            <p class="m-0" t-field="o.ref"/>
                        </div>
              </div>
        </xpath>

        <xpath expr="//t/div[@class='page']/p[1]" position="replace"></xpath>
         <xpath expr="//t/div[@class='page']/p[@name='comment']" position="replace"></xpath>
         <xpath expr="//p[@name='payment_term']" position="replace"></xpath>
         <xpath expr="//p[@name='note']" position="replace"></xpath>

        <xpath expr="//t/div[@class='page']/div[@id='informations']" position="after">
            <div id="narration_view" class="row mt32 mb32">
            </div>

        </xpath>
        
        <xpath expr="//t/div[@class='page']/div[@id='qrcode']" position="after">
<!--             <div class="row">
                <div class="col-4">
                </div>
                <div class="col-4">
                    <p style='font-size:12px;font-weight:bold'>جميع الاعمال تمت طبقا للاصول الفنية للهيئة</p>
                </div>
                <div class="col-4">
                </div>
            </div>
            <div class="row"  style='margin-bottom:60px'>
                <div class="col-4">
                    <stong>مندوب الشركة</stong>
                </div>
                <div class="col-4">
                </div>
                <div class="col-4">
                    <stong>مندوب الهيئة</stong>
                </div>
            </div> -->
            <table class="table table-sm">
                <td><stong>مندوب الشركة</stong></td>
                <td><p style='font-size:12px;font-weight:bold'>جميع الاعمال تمت طبقا للاصول الفنية للهيئة</p></td>
                <td><stong>مندوب الهيئة</stong></td>
            </table>
            <div align='center'>
                <p>يعتمد/ </p>
                <p>رئيس مجلس الادارة و العضو المنتدب</p>
                <p>مهندس/</p>
            </div>
        </xpath>

        <xpath 
        expr="//t/div[@class='page']/div[@class='clearfix']" 
        position="replace">
        <div id="total" class="row">
        <div t-attf-class="#{'col-4' if report_type != 'html' else 'col-sm-7 col-md-5'} ml-auto">
                <table></table>
        </div>
        </div>
        </xpath>


        <xpath expr="//t/div[@class='page']/table[@name='invoice_line_table']" position="replace">
        <div class="row" style='margin:0'>
            <p class="col-4" style='font-size:10px:margin-left:25px'></p>
            <p class="col-4" style='font-size:10px'></p>
            <p class="col-4" style='font-size:10px'>مطابع السكك الحديد</p>
        </div>
        <table class="table table-sm o_main_table table-bordered" name="invoice_line_table">
               <thead>
                <tr>
                <style>
                    .money{
                        width:120px;
                    }
                </style>
                    <t t-set="colspan" t-value="6"/>
                    <th>رقم بند العقد</th> 
                    <th>بيانات مفردات الاعمال</th> 
                    <th>الوحدة</th> 
                    <th>الكمية</th>
                    <th>
                        <p style="margin:0;border-bottom: 1px solid black;" align='center'>الثمن بالوحدة</p>
                        <p class="row money" style="margin:0">
                            <span class="col-auto sm" style="border-left:1px solid black; padding:1px;">جنية</span>
                            <span class="col-auto sm" style='padding:1px'>قرش</span>
                        </p>
                    </th>  
                    <th>النسبة</th>
                    <th>                        
                        <p style="margin:0;border-bottom: 1px solid black;" align='center'>تكاليف كل بند</p>
                        <p class="row money" style="margin:0">
                            <span class="col-auto sm" style="border-left:1px solid black; padding:1px;">جنية</span>
                            <span class="col-auto sm" style='padding:1px'>قرش</span>
                        </p>
                    </th> 
                    <th>
                       <p style="margin:0;border-bottom: 1px solid black;" align='center'>المبلغ المصرح بصرفه</p>
                        <p class="row money" style="margin:0">
                            <span class="col-auto sm" style="border-left:1px solid black; padding:1px;">جنية</span>
                            <span class="col-auto sm" style='padding:1px'>قرش</span>
                        </p>
                    </th>
                    <th>ملاحظات</th>
                </tr>
               </thead> 
               <tbody>
                <t t-foreach="o.invoice_line_ids" t-as="line">
                    <tr>
                        <td>
                            <span t-field='line.product_id.default_code'/>
                        </td>
                        <td>
                            <span t-field='line.product_id.name'/>
                        </td>
                        <td>
                            <span>كم</span>
                        </td>
                        <td>
                            <span t-field='line.quantity'/>
                        </td>
                        <td>
                            <span t-field='line.price_unit'/>
                        </td>
                        <td>
                            <span t-field='line.rated'/>
                        </td>
                        <td>
                            <span t-field='line.price_subtotal'/>
                        </td>
                        <td>
                            <span t-field='line.allowed_amount'/>
                        </td>
                        <td>
                            <span t-field='line.disc'/>
                        </td>
                    </tr>
                </t>
               </tbody>
        </table>
            
        </xpath>
    </template>
    </data>
</odoo>